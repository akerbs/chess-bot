# Chess Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∏–≥—Ä—ã –≤ —à–∞—Ö–º–∞—Ç—ã —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéÆ –ù–æ–≤–∞—è –ø–∞—Ä—Ç–∏—è –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `/start`
- ‚ôüÔ∏è –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —à–∞—Ö–º–∞—Ç–Ω–∞—è –¥–æ—Å–∫–∞ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
- üñ±Ô∏è **Web App —Å drag and drop** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üé® –ö—Ä–∞—Å–∏–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Ö–æ–¥–æ–≤
- ü§ñ –ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞
- üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å–∫–∏ –≤ Telegram (—á–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ Web App)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ö–æ–¥–æ–≤ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —à–∞—Ö–º–∞—Ç
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
cd chess-bot
npm install
cp .env.example .env
```

–í —Ñ–∞–π–ª–µ `.env` –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
- `BOT_TOKEN` - –ø–æ–ª—É—á–∏—Ç–µ —É @BotFather –≤ Telegram
- `WEB_APP_URL` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - URL –¥–ª—è Web App (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://your-domain.com` –∏–ª–∏ `https://your-ngrok-url.ngrok.io`)

```bash
npm run dev
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ Web App —Å–µ—Ä–≤–µ—Ä–∞ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):

```bash
npm run webapp
```

–ó–∞—Ç–µ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL:

**Windows:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok —Å https://ngrok.com/download
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
ngrok config add-authtoken YOUR_TOKEN
ngrok http 3000
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
.\start-ngrok.bat
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL –æ—Ç ngrok –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```
WEB_APP_URL=https://–≤–∞—à-ngrok-url.ngrok-free.app
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `webapp`.

## –ö–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –ø–∞—Ä—Ç–∏—é
- `/new` ‚Äî –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –ø–∞—Ä—Ç–∏—é (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- `/board` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–æ—Å–∫—É
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –ö–∞–∫ –∏–≥—Ä–∞—Ç—å

### –ß–µ—Ä–µ–∑ Web App (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "‚ôüÔ∏è –ò–≥—Ä–∞—Ç—å" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Web App
3. –í –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
   - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ñ–∏–≥—É—Ä—ã (drag and drop)
   - –ò–ª–∏ –∫–ª–∏–∫–∞–π—Ç–µ –Ω–∞ —Ñ–∏–≥—É—Ä—É, –∑–∞—Ç–µ–º –Ω–∞ —Ü–µ–ª–µ–≤—É—é –∫–ª–µ—Ç–∫—É
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–∫–∞–∂–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ö–æ–¥—ã
4. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–µ–ª–∞–µ—Ç —Å–≤–æ–π —Ö–æ–¥

### –ß–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–µ—Ç–∫—É –¥–ª—è —Ö–æ–¥–∞ (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏)
3. –ó–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–µ–≤—É—é –∫–ª–µ—Ç–∫—É
4. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–µ–ª–∞–µ—Ç —Å–≤–æ–π —Ö–æ–¥

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ KISS:

- **`BotPlatform`** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **`BotHandler`** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **`ChessService`** ‚Äî –ª–æ–≥–∏–∫–∞ —à–∞—Ö–º–∞—Ç–Ω–æ–π –∏–≥—Ä—ã (chess.js)
- **`GameService`** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–∞—Ä—Ç–∏–π
- **`AIService`** ‚Äî –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –¥–ª—è –±–æ—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ platforms/          # –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º
‚îÇ   ‚îú‚îÄ‚îÄ bot-platform.interface.ts
‚îÇ   ‚îî‚îÄ‚îÄ telegram-bot.adapter.ts
‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ bot-handler.ts
‚îú‚îÄ‚îÄ services/           # –î–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ chess.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ game.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ ai.service.ts
‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ board-renderer.ts
‚îî‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    ‚îî‚îÄ‚îÄ env.ts
webapp/                 # Telegram Web App
‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ app.js              # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ styles.css          # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ chess.js            # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ —à–∞—Ö–º–∞—Ç
‚îî‚îÄ‚îÄ server.js           # –ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT.

